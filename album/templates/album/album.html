{% extends 'base.html' %}
{% load static %}

{% block content %}
  <div class="main__header">
    <div class="main__bread bread">
      <a href="{% url 'index' %}" class="bread__link">Альбомы/</a>
    </div>
    <a href="{% url 'album_edit' album.id %}" class="main__edit">Редактировать</a>
      <a href="{% url 'album_delete' album.id %}" class="main__delete">Удалить</a>
  </div>
  <h1 class="main__title">{{ album.title }}</h1>
  <p class="main__count">(Всего: {{ pictures.count }})</p>
  <form class="main__order order" action="{% url 'album' album.id %}" method="get" id="sortPictures">
    {% if upload_date %}
      <button class="order__field" type="submit" name="orderby" value="-upload_date">По дате(-)</button>
    {% else %}
      <button class="order__field" type="submit" name="orderby" value="upload_date">По дате</button>
    {% endif %}
  </form>
  <div class="main__grid grid grid--album">    
    {% for picture in pictures %}
      <a class="grid__element" href="{% url 'picture' picture.id %}">
        <img class="grid__img" src="{{ picture.photo_file.url }}" alt="Альбомная картинка">
      </a>
    {% endfor %}
    <form class="grid__element form-picture" method="post" enctype="multipart/form-data">
      {% csrf_token %}
      {{ form.photo_file }}
    </form>
  </div>
{% endblock %}